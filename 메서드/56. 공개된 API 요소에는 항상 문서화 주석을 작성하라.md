# 공개된 API 요소에는 항상 문서화 주석을 작성하라

API 를 쓸모 있게 하려면 잘 작성된 문서도 곁들여야 한다. 자바에서는 문서 작성을 위해 `자바독(Javadoc)`이라는 유틸리티가 이 귀찮은 작업을 도와준다.

문서화 주석을 작성하는 규칙은 공식 언어 명세에는 속하지 않지만, 자바 프로그래머라면 알아야 하는 `업계 표준 API` 라고 할 수 있다.

> [How to Write Doc Comments](https://www.oracle.com/kr/technical-resources/articles/java/javadoc-tool.html)

- 자바 버전이 올라가면서 추가된 중요한 자바독 태그
  - 자바 5 : @literal, @code
  - 자바 8 : @implSpec
  - 자바 9 : @index

__여러분의 API 를 올바르게 문서화하려면 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.__

__메서드용 문서화 주석에는 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야 한다.__

상속용으로 설계된 클래스의 메서드가 아니라면 그 메서드가 어떻게 동작하는지가 아니라, 무엇을 하는지를 기술해야 한다. 즉, how 가 아닌 what 을 기술해야 한다.

문서화 주석에는 클라이언트가 해당 메서드를 호출하기 위한 `전제조건(precondition)`을 모두 나열해야 한다. 또한 메서드가 성공적으로 수행된 후에 만족해야 하는 `사후조건(postcondition)`도 모두 나열해야 한다.

일반적으로 전제조건은 `@throws` 태그로 비검사 예외를 선언하여 암시적으로 기술한다. 즉, 비검사 예외 하나가 전제조건 하나와 연결되는 것이다. 또한, `@param` 태그를 이용해 그 조건에 영향받는 매개변수에 
기술할 수도 있다.

전제조건과 사후작용 뿐만 아니라 `부작용`도 문서화해야 한다. 부작용이란 사후조건으로 명확히 나타나진 않지만 시스템의 상태에 어떠한 변화를 가져오는 것을 뜻한다.

- `메서드 계약(contract) 을 완벽히 기술하기 위해서`
  - 모든 매개변수에 @param 명시
  - 반환 타입이 void 가 아니면 @return 명시
    - 메서드 설명이 @return 태그의 설명과 같다면 생략 가능
  - 모든 예외에 @throws 명시

## Example

```java
/**
 * 이 리스트에서 지정한 위치의 원소를 반환한다.
 *
 * <p>이 메서드는 상수시간에 수행됨을 보장하지 <i>않는다.</i> 구현에 따라 원소의 위치에 비례해 시간이 걸릴 수 있다.
 *
 * @param index 반환할 원소의 인덱스; 0 이상이고 리스트 크기보다 작아야 한다.
 * @return 이 리스트에서 지정한 위치의 원소
 * @throws IndexOutOfBoundsException index 가 범위를 벗어나면, 즉, ({@code index<0 || index>=this.size9)}) 이면 발생한다.
 */
 E get(int index);
```

자바독(Javadoc) 유틸리티는 문서화 주석을 HTML 로 변환하므로 문서화 주석안의 HTML 요소들이 최종 HTML 문서에 반영 된다.

`{@code}` 는 태그로 감싼 내용을 코드용 폰드로 렌더링한다. 또한 태그로 감싼 내용에 포함된 HTML 요소나 다른 자바독 태그를 무시한다. 두 번째 효과 덕에 HTML 메타 문자인 `<` 기호 등을 별다른
처리 없이 바로 사용할 수 있다.

문서화 주석에 여러 줄로 된 코드 예시를 넣으려면 `<pre>{@code 코드}</pre>` 형태로 작성하면 된다.

```java
/**
 * Returns true if this collection is empty.
 *
 * @implSpec
 * This implementation returns {@code this.size() == 0}.
 *
 * @return true if this collection is empty
 */
 public boolean isEmpty() { ... }
```

자바 11 까지도 자바독 명령줄에서 `-tag "implSpec:a:Implementation Requirements:"` 스위치를 켜주지 않으면 @implSpec 태그를 무시해 버린다.

- @implSpec
  - 클래스를 상속용으로 설계할 때 혹은 오버라이딩 가능한 메서드에 사용 (ex. 디폴트 메서드)
  - 그 메서드에 대한 설명을 작성한다.

- @literal
  - HTML 마크업이나 자바독 태그를 무시한다.
  - {@code} 와 비슷하지만 코드 폰트로 렌더링하지 않는다.
  - `A geometirc series converges if {@literal |r| < 1}.`

- @summary
  - 자바 10 에 추가 되었다.
  - 요약 설명
 
@literal 이나 @summary 는 요약설명이 가능한데, 요약 설명은 반드시 대상의 기능을 고유하게 기술해야 한다. 헷갈리지 않으려면 __한 클래스(혹은 인터페이스) 안에서 요약 설명이 똑같은 멤버(혹은 생성자)
가 둘 이상이면 안 된다.__

요약 설명에서는 `첫 번째 마침표가 나오는 지점까지의 문장`을 요약 설명으로 나타낸다.

```java
/**
 * 머스타드 대령이나 {@literal Mrs. 피콕} 같은 용의자
 */
 public class Suspect { ... }
```

```java
/**
 * {@summary A suspect, such as Colonel Mustard or Mrs. Peacock.}
 */
 public enum Suspect { ... }
```



